{"version":3,"sources":["whiteList.ts"],"names":[],"mappings":";;;;;AAAA,uCAAkC;AAElC,2DAA2D;AAC3D,kDAAkD;AAElD,eAAe;AAET,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAK5C;IAAuC,6BAAY;IADnD;QAAA,qEAiCC;QA9BG,WAAW;QACH,oBAAc,GAAG,CAAC,CAAC;;IA6B/B,CAAC;IA3BG,yBAAK,GAAL;QAAA,iBA0BC;QAzBG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;YACtC,KAAI,CAAC,cAAc,EAAE,CAAC;YAEtB,SAAS;YACT,IAAI,QAAQ,GAAG;gBACX,KAAI,CAAC,cAAc,GAAG,CAAC,CAAC;YAC5B,CAAC,CAAA;YACD,KAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YAE/B,MAAM;YACN,IAAI,KAAI,CAAC,cAAc,GAAG,CAAC,EAAE;gBACzB,IAAI,OAAO,EAAE,IAAI,WAAW;oBACxB,OAAO;gBACX,EAAE,CAAC,gBAAgB,CAAC;oBAChB,IAAI,EAAE,kBAAQ,CAAC,QAAQ,CAAC,MAAM;oBAC9B,OAAO,YAAC,GAAG;wBACP,EAAE,CAAC,gBAAgB,CAAC;4BAChB,OAAO,YAAC,GAAG;gCACP,kBAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;4BAC9C,CAAC;yBACJ,CAAC,CAAA;oBACN,CAAC;iBACJ,CAAC,CAAA;aACL;QACL,CAAC,CAAC,CAAA;IACN,CAAC;IA/BgB,SAAS;QAD7B,OAAO;OACa,SAAS,CAgC7B;IAAD,gBAAC;CAhCD,AAgCC,CAhCsC,EAAE,CAAC,SAAS,GAgClD;kBAhCoB,SAAS","file":"","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["import RootNode from \"./RootNode\";\r\n\r\n// Copyright (C) 2019, Flickering Inc. All rights reserved.\r\n// Author: hongchangfu (hongchangfu@flickering.ai)\r\n\r\n//用于获取白名单openId\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\ndeclare const wx: any;\r\n\r\n@ccclass\r\nexport default class whiteList extends cc.Component {\r\n\r\n    /** 点击次数 */\r\n    private hold_one_click = 0;\r\n\r\n    start() {\r\n        this.node.on(cc.Node.EventType.TOUCH_END, () => {\r\n            this.hold_one_click++;\r\n\r\n            //点击3秒后清0\r\n            let callback = () => {\r\n                this.hold_one_click = 0;\r\n            }\r\n            this.scheduleOnce(callback, 3);\r\n\r\n            //判断双击\r\n            if (this.hold_one_click > 5) {\r\n                if (typeof wx == \"undefined\")\r\n                    return;\r\n                wx.setClipboardData({\r\n                    data: RootNode.instance.openId,\r\n                    success(res) {\r\n                        wx.getClipboardData({\r\n                            success(res) {\r\n                                RootNode.instance.gameLog.sendWhiteList();\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n}"]}