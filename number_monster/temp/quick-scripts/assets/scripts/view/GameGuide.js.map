{"version":3,"sources":["GameGuide.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\view","sourcesContent":["// Copyright (C) 2019, Flickering Inc. All rights reserved.\r\n// Author: hongchangfu (hongchangfu@flickering.ai)\r\n\r\n//新手引导\r\n\r\nimport Ball from \"./Ball\";\r\nimport GameCtrl from \"../controller/GameCtrl\";\r\nimport RootNode from \"../RootNode\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameGuide extends cc.Component {\r\n    @property({ type: cc.Node, visible: true, displayName: \"手\" })\r\n    private hand: cc.Node = undefined;\r\n\r\n    @property({ type: cc.Node, visible: true, displayName: \"线\" })\r\n    private line: cc.Node = undefined;\r\n\r\n    @property({ type: cc.Label, visible: true, displayName: \"文字描述\" })\r\n    private describeLable: cc.Label = undefined;\r\n\r\n    @property({ type: cc.Node, visible: true, displayName: \"跳过按钮\" })\r\n    private jumpbtn: cc.Node = undefined;\r\n\r\n    @property({ type: cc.Node, visible: true, displayName: \"跳过按钮\" })\r\n    private continueBtn: cc.Node = undefined;\r\n\r\n    @property({ type: [cc.SpriteFrame], visible: true, displayName: \"手指图片\" })\r\n    private handSpr: Array<cc.SpriteFrame> = [];\r\n\r\n    @property({ type: cc.Node, visible: true, displayName: \"双击动画\" })\r\n    private doubleNode: cc.Node = undefined;\r\n\r\n    /** 引导了几步 */\r\n    private index: number = 0;\r\n\r\n    /** 动画操作的球 */\r\n    public ballOperate: Array<Ball> = [];\r\n\r\n    /** 引导结束 */\r\n    private endFlag: boolean = false;\r\n\r\n    private strArr: Array<string> = [\r\n        '欢迎来到数字精灵的世界~\\n让我们了解下游戏的基本规则吧。',\r\n        '如果两个数字相加的结果是10，合成就会消失，并且获得积分奖励。',\r\n        '我们还可以连续合成数字球，先试试用数字2和数字2合成。',\r\n        '然后用数字4和数字6合成，\\n就可以合成10啦~',\r\n        '6和7相加不等于10！\\n我们可以通过双击数字球进行拆数~',\r\n        '数字6拆成了两个数字3!\\n我们用其中一个数字3和数字7合成吧~',\r\n        '游戏规则就是这么简单，\\n让我们开始游戏吧~'\r\n    ]\r\n\r\n    start() {\r\n        this.jumpbtn.on(\"click\", () => {\r\n            RootNode.instance.gameLog.recordAction(\"skipGuide\");\r\n            this.guideEnd();\r\n        })\r\n\r\n        this.continueBtn.on(\"click\", () => {\r\n            this.continue();\r\n        })\r\n\r\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, (e) => {\r\n            if (GameCtrl.instance.slectBall == undefined)\r\n                return;\r\n            let pos = this.node.convertToNodeSpaceAR(e.getLocation());\r\n            GameCtrl.instance.slectBall.movePos(pos);\r\n        });\r\n\r\n        this.node.on(cc.Node.EventType.TOUCH_END, () => {\r\n            if (!this.continueBtn.active)\r\n                return;\r\n            this.continue();\r\n        })\r\n\r\n        this.hand.zIndex = 10;\r\n        this.line.zIndex = 10;\r\n        this.doubleNode.zIndex = 8;\r\n        this.doubleNode.active = false;\r\n        this.continueBtn.active = false;\r\n    }\r\n\r\n    update() {\r\n        //当点击了球时,手指动画隐藏\r\n        if (GameCtrl.instance.slectBall) {\r\n            this.hand.opacity = 0;\r\n            this.line.opacity = 0;\r\n\r\n            //操作球可以动\r\n            this.operateStatic(false);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 引导初始化\r\n     */\r\n    public init() {\r\n        this.node.opacity = 0;\r\n        this.describeLable.string = '';\r\n        let callback = () => {\r\n            this.node.opacity = 255;\r\n            GameCtrl.instance.maskPanl.opacity = 125;\r\n            this.setDescribe(0);\r\n            this.continueBtn.active = true;\r\n            //新手引导已经触发\r\n            RootNode.instance.setNewPlayer();\r\n        }\r\n        //等待三秒是考虑球的下落\r\n        this.scheduleOnce(callback, 3);\r\n    }\r\n\r\n    /** \r\n     * 下一步引导 (合成和双击触发)\r\n     * @param delay 延迟时间\r\n     */\r\n    public async nextGuide(delay: number = 0.5) {\r\n        this.typeResume();\r\n        this.describeLable.node.parent.opacity = 0;\r\n        if (this.index == 2)\r\n            delay = 0.8;\r\n        let callback = () => {\r\n            this.guide();\r\n        }\r\n        this.scheduleOnce(callback, delay);\r\n    }\r\n\r\n    /**\r\n     * 第几步\r\n     */\r\n    public get Index() {\r\n        return this.index;\r\n    }\r\n\r\n    /**\r\n    * 引导结束\r\n    */\r\n    public guideEnd() {\r\n        //终止所有回调\r\n        this.unscheduleAllCallbacks();\r\n\r\n        this.endFlag = true;\r\n\r\n        //把所有球回收\r\n        let nodes = this.node.children;\r\n        for (let i = 0; i < nodes.length; i++) {\r\n            let ball = nodes[i].getComponent(Ball);\r\n            if (ball)\r\n                GameCtrl.instance.creatBall.ballRecovery(ball);\r\n        }\r\n\r\n        //清空游戏面板所有球\r\n        GameCtrl.instance.guideEnd();\r\n        this.node.removeFromParent();\r\n    }\r\n\r\n    /**\r\n     * 开始下一步引导前状态回置\r\n     */\r\n    private typeResume() {\r\n        this.unscheduleAllCallbacks();\r\n        this.hand.scale = 1;\r\n        this.hand.opacity = 0;\r\n        this.line.opacity = 0;\r\n\r\n        //操作球清空\r\n        this.ballOperate = [];\r\n    }\r\n\r\n    /**\r\n     * 引导\r\n     */\r\n    private guide() {\r\n        this.index++;\r\n        switch (this.index) {\r\n            case 1:\r\n                this.setDescribe(1);\r\n                this.getBallFromGame([5, 5]);\r\n                this.guideAdd([5, 5]);\r\n                break;\r\n            case 2:\r\n                this.setDescribe(2);\r\n                this.getBallFromGame([2, 2, 6])\r\n                this.guideAdd([2, 2]);\r\n                break;\r\n            case 3:\r\n                this.setDescribe(3);\r\n                this.guideAdd([4, 6]);\r\n                break;\r\n            case 4:\r\n                this.creatBall();\r\n                break;\r\n            case 5:\r\n                this.setDescribe(4);\r\n                this.getBallFromGame([7, 6])\r\n                this.guideDoubleClick();\r\n                break;\r\n            case 6:\r\n                this.setDescribe(5);\r\n                this.guideAdd([3, 7]);\r\n                break;\r\n            case 7:\r\n                let arr = this.getBallNode([3]);\r\n                arr[0].parent = GameCtrl.instance.gamePanl;\r\n                this.continueBtn.active = true;\r\n                this.setDescribe(6);\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置描述文字\r\n     * @param num 文本序号\r\n     */\r\n    private setDescribe(num: number) {\r\n        let node = this.describeLable.node.parent;\r\n        node.runAction(cc.fadeIn(0.1));\r\n\r\n        //打印机方式显示文字\r\n        let arr = this.strArr[num].split('')\r\n        let length = arr.length;\r\n        let str = '';\r\n        let step = 0;\r\n        let callback = () => {\r\n            str += arr[step];\r\n            this.describeLable.string = str;\r\n            if (++step == length)\r\n                this.unschedule(callback);\r\n        }\r\n        this.schedule(callback, 0.05)\r\n    }\r\n\r\n    /**\r\n     * 生成新球\r\n     */\r\n    private creatBall() {\r\n        GameCtrl.instance.maskPanl.opacity = 127;\r\n        //生成数字6\r\n        let node = GameCtrl.instance.creatBall.creatBallForPos(6, new cc.Vec2(200, 700));\r\n        let ball = node.getComponent(Ball);\r\n        ball.speed = new cc.Vec2(0, 300);\r\n        let callback = () => {\r\n            //生成球掉下接近底部,到下一步\r\n            if (node.position.y < -400) {\r\n                this.nextGuide();\r\n                this.unschedule(callback);\r\n            }\r\n        }\r\n\r\n        this.schedule(callback, 0.1);\r\n    }\r\n\r\n    /**\r\n     * 引导双击\r\n     */\r\n    private guideDoubleClick() {\r\n        let arr = this.getBallNode([6]);\r\n        this.ballOperate = [arr[0].getComponent(Ball)];\r\n        this.hand.getComponent(cc.Sprite).spriteFrame = this.handSpr[0];\r\n        let callback = () => {\r\n            if (this.endFlag || GameCtrl.instance.slectBall)\r\n                return;\r\n            arr[0].zIndex = 0;\r\n            let pos = arr[0].position;\r\n\r\n            //操作球不能移动\r\n            this.operateStatic(true);\r\n            this.doubleClick(pos);\r\n        }\r\n        this.schedule(callback, 3, cc.macro.REPEAT_FOREVER, 0.1);\r\n    }\r\n\r\n    /**\r\n     * 双击动画\r\n     */\r\n    private doubleClick(pos: cc.Vec2) {\r\n        this.hand.stopAllActions();\r\n        this.hand.opacity = 255;\r\n        pos.y = pos.y - 10;\r\n        this.hand.position = pos;\r\n        this.doubleNode.position = pos;\r\n        let action = cc.sequence([\r\n            cc.scaleTo(0.3, 1.1),\r\n            cc.scaleTo(0.3, 0.9),\r\n            cc.callFunc(() => {\r\n                this.playAni(this.doubleNode);\r\n            }),\r\n            cc.scaleTo(0.3, 1.1),\r\n            cc.scaleTo(0.3, 0.9),\r\n            cc.callFunc(() => {\r\n                this.playAni(this.doubleNode);\r\n            }),\r\n            cc.scaleTo(0.3, 1),\r\n            cc.callFunc(() => {\r\n                this.hand.opacity = 0;\r\n            })\r\n        ])\r\n        this.hand.runAction(action);\r\n    }\r\n\r\n    /**\r\n     * 播放动画\r\n     */\r\n    private playAni(node: cc.Node) {\r\n        node.active = true;\r\n        let anim = node.getComponent(cc.Animation);\r\n        anim.play();\r\n    }\r\n\r\n    /**\r\n     * 从游戏面板获取球\r\n     * @param arr 获取球的数组\r\n     */\r\n    private getBallFromGame(arr: Array<number>) {\r\n        //游戏面板上的球\r\n        let arrBall = GameCtrl.instance.getGamePanelBall();\r\n        for (let i = 0; i < arrBall.length; i++) {\r\n            let ballNum = arrBall[i].ballNum;\r\n            let index = arr.indexOf(ballNum);\r\n            if (index != -1) {\r\n                arr.splice(index, 1);\r\n                let node = arrBall[i].node;\r\n                node.parent = this.node;\r\n                node.zIndex = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 从引导面板获取球(为了简化判断,取球做了两步)\r\n     * @param arr 获取球的数组\r\n     */\r\n    private getBallNode(arr: Array<number>): Array<cc.Node> {\r\n        let nodeArr = [];\r\n        let nodes = this.node.children;\r\n        for (let i = 0; i < nodes.length; i++) {\r\n            if (!nodes[i].active)\r\n                continue;\r\n            let ball = nodes[i].getComponent(Ball);\r\n            if (ball) {\r\n                let index = arr.indexOf(ball.ballNum)\r\n                if (index != -1) {\r\n                    arr.splice(index, 1);\r\n                    nodeArr.push(ball.node);\r\n                }\r\n            }\r\n        }\r\n        return nodeArr;\r\n    }\r\n\r\n    /**\r\n     * 引导数字相加\r\n     * @param numArr 操作的数字\r\n     */\r\n    private guideAdd(numArr: Array<number>) {\r\n        //需要操作的两个球\r\n        let arr = this.getBallNode(numArr);\r\n\r\n        //设置操作球\r\n        for (let i = 0; i < arr.length; i++) {\r\n            let ball = arr[i].getComponent(Ball);\r\n            this.ballOperate.push(ball);\r\n        }\r\n\r\n        arr.sort(this.ballSore);\r\n        let callback = () => {\r\n            if (this.endFlag || GameCtrl.instance.slectBall)\r\n                return;\r\n\r\n            //操作球不能移动\r\n            this.operateStatic(true);\r\n            this.handMove(arr);\r\n        }\r\n\r\n        this.schedule(callback, 2, cc.macro.REPEAT_FOREVER, 0.1);\r\n    }\r\n\r\n    /**\r\n     * 滑动合成动画\r\n     * @param arr 操作球数组\r\n     */\r\n    private handMove(arr: Array<cc.Node>) {\r\n        //节点为空\r\n        if (arr[0] == undefined || arr[1] == undefined)\r\n            return;\r\n\r\n        let start = arr[0].position;\r\n        let end = arr[1].position;\r\n\r\n        arr[0].zIndex = 0;\r\n        arr[1].zIndex = 0;\r\n\r\n        //滑动起始在球心下移10个像素\r\n        start.y -= 10;\r\n        end.y -= 10;\r\n\r\n        //手和线的动作停止\r\n        this.hand.stopAllActions();\r\n        this.line.stopAllActions();\r\n\r\n        this.hand.opacity = 255;\r\n        this.line.opacity = 255;\r\n\r\n        //手指滑动\r\n        this.hand.position = start;\r\n        this.hand.opacity = 255;\r\n        let sprite = this.hand.getComponent(cc.Sprite);\r\n        sprite.spriteFrame = this.handSpr[0];\r\n        this.hand.scale = 1.2;\r\n        let handAct = cc.sequence([\r\n            cc.scaleTo(0.2, 1),\r\n            cc.callFunc(() => {\r\n                sprite.spriteFrame = this.handSpr[1];\r\n            }),\r\n            cc.moveTo(1, end),\r\n            cc.callFunc(() => {\r\n                this.hand.opacity = 0;\r\n            })\r\n        ])\r\n        this.hand.runAction(handAct);\r\n\r\n        //线\r\n        this.line.position = start;\r\n        let lineVec = end.sub(start);\r\n        let length = lineVec.mag();\r\n        let d = new cc.Vec2(1, 0);\r\n        let lineAngle = lineVec.signAngle(d);\r\n        this.line.scaleX = 0;\r\n        this.line.width = length;\r\n        this.line.rotation = lineAngle * 180 / Math.PI;\r\n\r\n        let lineAct = cc.sequence([\r\n            cc.delayTime(0.2),\r\n            cc.scaleTo(1, 1),\r\n            cc.callFunc(() => {\r\n                this.line.opacity = 0;\r\n            })\r\n        ])\r\n        this.line.runAction(lineAct);\r\n    }\r\n\r\n    /**\r\n     * 排序,为了手指都是从左往右滑\r\n     * @param a \r\n     * @param b \r\n     */\r\n    private ballSore(a: cc.Node, b: cc.Node) {\r\n        let ballA = a.getComponent(Ball);\r\n        let ballB = b.getComponent(Ball);\r\n        if (ballA.ballNum == ballB.ballNum)\r\n            return a.position.x - b.position.x;\r\n        return ballA.ballNum - ballB.ballNum;\r\n    }\r\n\r\n    /**\r\n     * 点击继续\r\n     */\r\n    private continue() {\r\n        this.continueBtn.active = false;\r\n        if (this.index == 0)\r\n            this.nextGuide();\r\n        else\r\n            this.guideEnd();\r\n    }\r\n\r\n    /**\r\n     * 设置操作球是否禁止\r\n     * @param enable 是否禁止\r\n     */\r\n    private operateStatic(enable: boolean) {\r\n        for (let i = 0; i < this.ballOperate.length; i++) {\r\n            this.ballOperate[i].ballStatic = enable;\r\n        }\r\n    }\r\n}"]}