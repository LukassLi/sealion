{"version":3,"sources":["ald-game.js"],"names":["e","test","stageId","length","console","warn","s","stageName","t","n","r","onStart","a","o","Date","now","sid","snm","state","Math","floor","random","userId","uid","request","onRunning","params","event","C","join","indexOf","itemName","itnm","itemId","itid","itemCount","itco","itemMoney","money","desc","onEnd","E","sdr","d","v","ss","ct","c","Promise","wx","getSetting","success","authSetting","getUserInfo","O","f","userInfo","avatarUrl","split","fail","getNetworkType","x","scene","getShareInfo","shareTicket","g","getLocation","Object","prototype","toString","call","forEach","toLowerCase","substring","i","concurrency","queue","tasks","activeCount","push","then","next","all","shift","url","h","data","header","se","w","op","_","img","method","statusCode","S","as","b","at","I","rq_c","ifo","p","ak","app_key","uu","m","l","st","ev","wsr","u","ufo","ec","y","Queue","require","error","replace","version","getStorageSync","setStorageSync","getLaunchOptionsSync","q","M","k","j","D","N","lat","latitude","lng","longitude","spd","speed","nt","networkType","onShow","sm","query","ald_share_src","tp","onHide","dr","onError","P","aldSendEvent","String","JSON","stringify","aldOnShareAppMessage","onShareAppMessage","ald_desc","sho","aldShareAppMessage","shareAppMessage","aldSendSession","gid","aldSendOpenid","aldStage","L","defineProperty","value","writable","enumerable","configurable","A","getSystemInfoSync","br","brand","md","model","pr","pixelRatio","sw","screenWidth","sh","screenHeight","ww","windowWidth","wh","windowHeight","lang","language","wv","sv","system","wvv","platform","fs","fontSizeSetting","wsdk","SDKVersion","bh","benchmarkLevel","bt","battery","wf","wifiSignal"],"mappings":"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","file":"ald-game.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\utils","sourcesContent":["!function () { function e() { function e(e) { return !/^\\d+(.\\d+)*$/.test(e.stageId) || e.stageId.length > 32 ? (console.warn(\"关卡stageId必须符合传参规则,请参考文档。\"), !1) : !(\"string\" !== s(e.stageName) || e.stageName.length > 32) || (console.warn(\"关卡名称为必传字段,且长度小于32个字符,请参考文档\"), !1) } var t = \"\", n = \"\", r = 0; this.onStart = function (a) { if (e(a)) { var o = {}; r = Date.now(), o.sid = a.stageId, o.snm = a.stageName, o.state = \"start\", n = \"\" + Date.now() + Math.floor(1e7 * Math.random()), t = o, (\"string\" === s(a.userId) && a.userId) < 32 && (this.uid = a.uid), this.request() } }, this.onRunning = function (n) { if (e(n)) { var r = { params: {} }; if ((\"string\" === s(n.userId) && n.userId) < 32 && (this.uid = n.uid), !s(n.event) && C.join(\",\").indexOf(n.event + \",\") != -1) return void C.join(\",\"); if (r.event = n.event, \"object\" === s(n.params)) { if (\"string\" !== s(n.params.itemName) || n.params.itemName.length > 32) return void console.warn(\"道具/商品名称为必传字段，且长度小于32个字符，详情请参考文档\"); r.params.itnm = n.params.itemName, \"string\" === s(n.params.itemId) && n.params.itemId.length < 32 && (r.params.itid = n.params.itemId), \"number\" === s(n.params.itemCount) && n.params.itemCount.length < 32 ? r.params.itco = n.params.itemCount : r.params.itco = 1, n.event.indexOf(\"pay\") !== -1 && (\"number\" === s(n.params.itemMoney) && n.params.itemMoney.length < 32 ? r.params.money = n.params.itemMoney : r.params.money = 0), \"string\" === s(n.params.desc) && n.params.desc.length < 64 && (r.params.desc = n.params.desc), r.state = \"running\", r.sid = n.stageId, r.snm = n.stageName, t = r, this.request() } } }, this.onEnd = function (n) { if (e(n)) { var a = {}; if (a.state = \"end\", (\"string\" === s(n.userId) && n.userId) < 32 && (this.uid = n.uid), !s(n.event) && E.join(\",\").indexOf(n.event + \",\") !== -1) return void E.join(\",\"); a.sid = n.stageId, a.snm = n.stageName, a.event = n.event, a.sdr = 0 !== r ? Date.now() - r : \"\", a.params = {}, \"object\" === s(n.params) && \"string\" === s(n.params.desc) && n.params.desc.length < 64 && (a.params.desc = n.params.desc), t = a, this.request() } }, this.request = function () { var e = d(v); t.ss = n, e.ct = t, c(e, \"screen\") } } function t() { return new Promise(function (e, t) { wx.getSetting({ success: function (t) { t.authSetting[\"scope.userInfo\"] ? wx.getUserInfo({ success: function (t) { O = f(t.userInfo.avatarUrl.split(\"/\")), e(t) }, fail: function () { e(\"\") } }) : e(\"\") }, fail: function () { e(\"\") } }) }) } function n() { return new Promise(function (e, t) { wx.getNetworkType({ success: function (t) { e(t) }, fail: function () { e(\"\") } }) }) } function r() { return new Promise(function (e, t) { \"1044\" == x.scene ? wx.getShareInfo({ shareTicket: x.shareTicket, success: function (t) { e(t) }, fail: function () { e(\"\") } }) : e(\"\") }) } function a() { return new Promise(function (e, t) { g.getLocation ? wx.getLocation({ success: function (t) { e(t) }, fail: function () { e(\"\") } }) : wx.getSetting({ success: function (t) { t.authSetting[\"scope.userLocation\"] ? (wx.getLocation({ success: function (t) { e(t) }, fail: function () { e(\"\") } }), e(\"\")) : e(\"\") }, fail: function () { e(\"\") } }) }) } function s(e) { function t(e) { return Object.prototype.toString.call(e) } var n = {}; return \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \").forEach(function (e, t) { n[\"[object \" + e + \"]\"] = e.toLowerCase() }), function () { return null == e ? e : \"object\" == typeof e || \"function\" == typeof e ? n[t.call(e)] || \"object\" : typeof e }() } function o() { function e() { return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1) } return e() + e() + e() + e() + e() + e() + e() + e() } function i() { this.concurrency = 4, this.queue = [], this.tasks = [], this.activeCount = 0; var e = this; this.push = function (t) { this.tasks.push(new Promise(function (n, r) { var a = function () { e.activeCount++ , t().then(function (e) { n(e) }).then(function () { e.next() }) }; e.activeCount < e.concurrency ? a() : e.queue.push(a) })) }, this.all = function () { return Promise.all(this.tasks) }, this.next = function () { e.activeCount-- , e.queue.length > 0 && e.queue.shift()() } } function c(e, t) { function n() { return new Promise(function (t, n) { wx.request({ url: \"https://\" + h + \".aldwx.com/d.html\", data: e, header: { se: w || \"\", op: _ || \"\", img: O || \"\" }, method: \"GET\", fail: function () { t(\"\") }, success: function (e) { t(200 == e.statusCode ? \"\" : \"status error\") } }) }) } S++ , e.as = b, e.at = I, e.rq_c = S, e.ifo = p, e.ak = g.app_key, e.uu = m, e.v = l, e.st = Date.now(), e.ev = t, e.wsr = x, \"\" !== u(e.ufo) && (e.ufo = e.ufo), e.ec = y, wx.Queue.push(n) } function u(e) { if (void 0 === e || \"\" === e) return \"\"; var t = {}; for (var n in e) \"rawData\" != n && \"errMsg\" != n && (t[n] = e[n]); return t } function d(e) { var t = {}; for (var n in e) t[n] = e[n]; return t } function f(e) { for (var t = \"\", n = 0; n < e.length; n++)e[n].length > t.length && (t = e[n]); return t } var l = \"2.0.0\", h = \"glog\", g = require(\"./ald-game-conf\"); \"\" === g.app_key && console.error(\"请在配置文件中填写您的app_key\"), g.app_key = g.app_key.replace(/\\s/g, \"\"), function () { wx.request({ url: \"https://\" + h + \".aldwx.com/config/app.json\", method: \"GET\", success: function (e) { 200 === e.statusCode && (e.data.version != l && console.warn(\"您的SDK不是最新版本，请尽快升级！\"), e.data.warn && console.warn(e.data.warn), e.data.error && console.error(e.data.error)) } }) }(); var p = \"\", m = function () { var e = \"\"; try { e = wx.getStorageSync(\"aldstat_uuid\"), wx.setStorageSync(\"ald_ifo\", !0) } catch (t) { e = \"uuid_getstoragesync\" } if (e) p = !1; else { e = o(), p = !0; try { wx.setStorageSync(\"aldstat_uuid\", e) } catch (e) { wx.setStorageSync(\"aldstat_uuid\", \"uuid_getstoragesync\") } } return e }(), v = {}, w = \"\", _ = \"\", y = 0, S = \"\", x = wx.getLaunchOptionsSync(), q = Date.now(), I = \"\" + Date.now() + Math.floor(1e7 * Math.random()), b = \"\" + Date.now() + Math.floor(1e7 * Math.random()), M = 0, k = \"\", O = \"\", j = !0, D = !1, N = [\"aldSendEvent\", \"aldOnShareAppMessage\", \"aldShareAppMessage\", \"aldSendSession\", \"aldSendOpenid\", \"aldLevelEvent\"], C = [\"payStart\", \"paySuccess\", \"payFail\", \"die\", \"revive\", \"tools\", \"award\"], E = [\"complete\", \"fail\"]; void 0 === wx.Queue && (wx.Queue = new i, wx.Queue.all()), function () { return Promise.all([t(), n(), a()]) }().then(function (e) { \"\" !== e[2] ? (v.lat = e[2].latitude || \"\", v.lng = e[2].longitude || \"\", v.spd = e[2].speed || \"\") : (v.lat = \"\", v.lng = \"\", v.spd = \"\"), \"\" !== e[1] ? v.nt = e[1].networkType || \"\" : v.nt = \"\"; var t = d(v); \"\" !== e[0] && (t.ufo = e[0], k = e[0]), c(t, \"init\") }), wx.onShow(function (e) { if (x = e, M = Date.now(), !j && !D) { I = \"\" + Date.now() + Math.floor(1e7 * Math.random()), p = !1; try { wx.setStorageSync(\"ald_ifo\", !1) } catch (e) { } } j = !1, D = !1; var t = d(v), n = d(v); t.sm = M - q, e.query.ald_share_src && e.shareTicket && \"1044\" === e.scene ? (n.tp = \"ald_share_click\", r().then(function (e) { n.ct = e, c(n, \"event\") })) : e.query.ald_share_src && (n.tp = \"ald_share_click\", n.ct = \"1\", c(n, \"event\")), c(t, \"show\") }), wx.onHide(function () { var e = d(v); e.dr = Date.now() - M, \"\" === k ? wx.getSetting({ success: function (t) { t.authSetting[\"scope.userInfo\"] ? wx.getUserInfo({ success: function (t) { e.ufo = t, k = t, O = f(t.userInfo.avatarUrl.split(\"/\")), c(e, \"hide\") } }) : c(e, \"hide\") } }) : c(e, \"hide\") }), wx.onError(function (e) { var t = d(v); t.tp = \"ald_error_message\", t.ct = e, y++ , c(t, \"event\") }); var P = { aldSendEvent: function (e, t) { var n = d(v); \"\" !== e && \"string\" == typeof e && e.length <= 255 ? (n.tp = e, \"string\" == typeof t && t.length <= 255 ? (n.ct = String(t), c(n, \"event\")) : \"object\" == typeof t ? (JSON.stringify(t).length >= 255 && console.error(\"自定义事件参数不能超过255个字符\"), n.ct = JSON.stringify(t), c(n, \"event\")) : void 0 === t || \"\" === t ? c(n, \"event\") : console.error(\"事件参数必须为String,Object类型,且参数长度不能超过255个字符\")) : console.error(\"事件名称必须为String类型且不能超过255个字符\") }, aldOnShareAppMessage: function (e) { wx.onShareAppMessage(function () { D = !0; var t = e(), n = \"\"; n = void 0 !== x.query.ald_share_src ? void 0 !== t.query ? (x.query.ald_share_src.indexOf(m), t.query + \"&ald_share_src=\" + x.query.ald_share_src + \",\" + m) : (x.query.ald_share_src.indexOf(m), \"ald_share_src=\" + x.query.ald_share_src + \",\" + m) : void 0 !== t.query ? t.query + \"&ald_share_src=\" + m : \"ald_share_src=\" + m, \"undefined\" != s(t.ald_desc) && (n += \"&ald_desc=\" + t.ald_desc), t.query = n; var r = d(v); return r.ct = t, r.ct.sho = 1, r.tp = \"ald_share_chain\", c(r, \"event\"), t }) }, aldShareAppMessage: function (e) { D = !0; var t = e, n = \"\"; n = void 0 !== x.query.ald_share_src ? void 0 !== t.query ? (x.query.ald_share_src.indexOf(m), t.query + \"&ald_share_src=\" + x.query.ald_share_src + \",\" + m) : (x.query.ald_share_src.indexOf(m), \"ald_share_src=\" + x.query.ald_share_src + \",\" + m) : void 0 !== t.query ? t.query + \"&ald_share_src=\" + m : \"ald_share_src=\" + m; var r = d(v); \"undefined\" != s(t.ald_desc) && (n += \"&ald_desc=\" + t.ald_desc), t.query = n, r.ct = t, r.tp = \"ald_share_chain\", c(r, \"event\"), wx.shareAppMessage(t) }, aldSendSession: function (e) { if (\"\" === e || !e) return void console.error(\"请传入从后台获取的session_key\"); var t = d(v); t.tp = \"session\", t.ct = \"session\", w = e, \"\" === k ? wx.getSetting({ success: function (e) { e.authSetting[\"scope.userInfo\"] ? wx.getUserInfo({ success: function (e) { t.ufo = e, c(t, \"event\") } }) : c(t, \"event\") } }) : (t.ufo = k, \"\" !== k && (t.gid = \"\"), c(t, \"event\")) }, aldSendOpenid: function (e) { if (\"\" === e || !e) return void console.error(\"openID不能为空\"); _ = e; var t = d(v); t.tp = \"openid\", t.ct = \"openid\", c(t, \"event\") } }; wx.aldStage = new e; for (var L = 0; L < N.length; L++)!function (e, t) { Object.defineProperty(wx, e, { value: t, writable: !1, enumerable: !0, configurable: !0 }) }(N[L], P[N[L]]); try { var A = wx.getSystemInfoSync(); v.br = A.brand || \"\", v.md = A.model, v.pr = A.pixelRatio, v.sw = A.screenWidth, v.sh = A.screenHeight, v.ww = A.windowWidth, v.wh = A.windowHeight, v.lang = A.language, v.wv = A.version, v.sv = A.system, v.wvv = A.platform, v.fs = A.fontSizeSetting, v.wsdk = A.SDKVersion, v.bh = A.benchmarkLevel || \"\", v.bt = A.battery || \"\", v.wf = A.wifiSignal || \"\", v.lng = \"\", v.lat = \"\", v.nt = \"\", v.spd = \"\", v.ufo = \"\" } catch (e) { } }();"]}